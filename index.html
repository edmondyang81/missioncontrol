<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mission Control</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #0d0d0d; color: #fff; min-height: 100vh; }
        .header { display: flex; justify-content: space-between; align-items: center; padding: 1rem 2rem; background: #1a1a1a; border-bottom: 1px solid #333; }
        .logo { font-size: 1.25rem; font-weight: 600; }
        .board { display: flex; gap: 16px; padding: 20px; overflow-x: auto; }
        .column { min-width: 280px; background: #1a1a1a; border-radius: 8px; padding: 12px; }
        .column-header { font-weight: 600; padding-bottom: 12px; margin-bottom: 12px; border-bottom: 1px solid #333; display: flex; justify-content: space-between; }
        .task { background: #262626; padding: 12px; border-radius: 6px; margin-bottom: 10px; cursor: pointer; border-left: 3px solid #666; }
        .task:hover { background: #333; }
        .task-title { font-weight: 500; margin-bottom: 4px; }
        .task-project { font-size: 0.75rem; color: #888; }
        .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 1000; justify-content: center; align-items: center; }
        .modal-content { background: #1a1a1a; padding: 24px; border-radius: 8px; max-width: 600px; width: 90%; max-height: 80vh; overflow-y: auto; }
        .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 16px; }
        .close-btn { background: none; border: none; color: #fff; font-size: 1.5rem; cursor: pointer; }
        .btn { padding: 8px 16px; border-radius: 6px; border: none; cursor: pointer; margin-right: 8px; margin-top: 8px; }
        .btn-primary { background: #3b82f6; color: white; }
        .btn-secondary { background: #333; color: white; }
        .subtask { display: flex; align-items: center; gap: 8px; padding: 4px 0; }
        .subtask input[type="checkbox"] { width: 18px; height: 18px; }
        textarea, input[type="text"] { width: 100%; background: #262626; border: 1px solid #444; color: #fff; padding: 8px; border-radius: 4px; margin-top: 8px; }
        .priority-high { border-left-color: #ef4444; }
        .priority-medium { border-left-color: #f59e0b; }
        .priority-low { border-left-color: #10b981; }
    </style>
</head>
<body>
    <div class="header">
        <div class="logo">üéØ Mission Control</div>
        <div>üéõÔ∏è Local Mode | <span id="task-count">0</span> tasks</div>
    </div>
    
    <div class="board" id="board"></div>
    
    <div class="modal" id="taskModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Task Details</h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div id="modalBody"></div>
        </div>
    </div>

    <script>
        // TASK DATA - Edit this directly
        const TASKS = [
            {id:"guide_onboarding",title:"üöÄ Onboarding Guide",desc:"Setup instructions for Mission Control",status:"permanent",project:"guides",priority:"high",subtasks:[{title:"Enable GitHub Pages",done:true},{title:"Create GitHub Token",done:true},{title:"Connect Dashboard",done:true}]},
            {id:"guide_user",title:"üìñ User Guide",desc:"How to use Mission Control",status:"permanent",project:"guides",priority:"medium",subtasks:[]},
            {id:"leia_daily",title:"ü§ñ Daily Tasks",desc:"Daily checks for Leia",status:"permanent",project:"leia",priority:"high",subtasks:[{title:"Check emails",done:false},{title:"Check calendar",done:false}]},
            {id:"leia_photoshop",title:"üé® Photoshop MCP",desc:"Setup Photoshop integration",status:"in_progress",project:"leia",priority:"medium",subtasks:[{title:"Install package",done:true},{title:"Start proxy",done:true},{title:"Load UXP plugin",done:false}]},
            {id:"leia_moltbook",title:"üì° Moltbook Recovery",desc:"Monitor account status",status:"review",project:"leia",priority:"low",subtasks:[{title:"Account banned",done:true},{title:"Set up monitoring",done:true}]},
            {id:"leia_skills",title:"üõ†Ô∏è Install Skills",desc:"Setup OpenClaw skills",status:"in_progress",project:"leia",priority:"high",subtasks:[{title:"Mission Control",done:true},{title:"GitHub Pages",done:true},{title:"Auto-save",done:true}]},
            {id:"instagram",title:"üì± Instagram Content",desc:"Create social media content",status:"backlog",project:"content",priority:"medium",subtasks:[]},
            {id:"redgala",title:"üé¨ RedGala Script",desc:"Script translation project",status:"review",project:"redgala",priority:"medium",subtasks:[{title:"Translate",done:true},{title:"Create PDF",done:true}]},
            {id:"manutd",title:"üî¥ Man United Tracker",desc:"Match reminders",status:"backlog",project:"automation",priority:"low",subtasks:[{title:"Setup cron",done:true}]}
        ];
        
        const COLUMNS = [
            {id:'permanent',title:'Permanent'},
            {id:'backlog',title:'Backlog'},
            {id:'in_progress',title:'In Progress'},
            {id:'review',title:'Review'},
            {id:'done',title:'Done'}
        ];
        
        let currentTask = null;
        
        function render() {
            const board = document.getElementById('board');
            board.innerHTML = '';
            document.getElementById('task-count').textContent = TASKS.length;
            
            COLUMNS.forEach(col => {
                const tasks = TASKS.filter(t => t.status === col.id);
                const colDiv = document.createElement('div');
                colDiv.className = 'column';
                colDiv.innerHTML = `
                    <div class="column-header">
                        <span>${col.title}</span>
                        <span>${tasks.length}</span>
                    </div>
                    <div class="tasks">
                        ${tasks.map(t => `
                            <div class="task priority-${t.priority}" onclick="openTask('${t.id}')">
                                <div class="task-title">${t.title}</div>
                                <div class="task-project">${t.project}</div>
                            </div>
                        `).join('')}
                    </div>
                `;
                board.appendChild(colDiv);
            });
        }
        
        function openTask(id) {
            currentTask = TASKS.find(t => t.id === id);
            if (!currentTask) return;
            
            document.getElementById('modalTitle').textContent = currentTask.title;
            document.getElementById('modalBody').innerHTML = `
                <p><strong>Project:</strong> ${currentTask.project}</p>
                <p><strong>Status:</strong> ${currentTask.status}</p>
                <p><strong>Priority:</strong> ${currentTask.priority}</p>
                <p>${currentTask.desc}</p>
                
                <h3 style="margin-top:20px;">Subtasks:</h3>
                ${currentTask.subtasks.map((s,i) => `
                    <div class="subtask">
                        <input type="checkbox" ${s.done ? 'checked' : ''} onchange="toggleSubtask(${i})">
                        <span>${s.title}</span>
                    </div>
                `).join('') || '<p>No subtasks</p>'}
                
                <h3 style="margin-top:20px;">Move to:</h3>
                ${COLUMNS.filter(c => c.id !== currentTask.status).map(c => `
                    <button class="btn btn-secondary" onclick="moveTask('${c.id}')">${c.title}</button>
                `).join('')}
            `;
            document.getElementById('taskModal').style.display = 'flex';
        }
        
        function closeModal() {
            document.getElementById('taskModal').style.display = 'none';
            currentTask = null;
        }
        
        function moveTask(newStatus) {
            if (currentTask) {
                currentTask.status = newStatus;
                render();
                closeModal();
                console.log('Task moved to', newStatus);
            }
        }
        
        function toggleSubtask(idx) {
            if (currentTask && currentTask.subtasks[idx]) {
                currentTask.subtasks[idx].done = !currentTask.subtasks[idx].done;
            }
        }
        
        render();
        console.log('Mission Control loaded with', TASKS.length, 'tasks');
    </script>
</body>
</html>
